## Event emitters

Emitters define the data that will be created by the data generator when a particular [state](./genspec-states.md) is reached.

Define one or more emitters, each with its own dimensions and data specification.

Each emitter has this structure:

| Field | Description | Possible values | Required? |
|---|---|---|---|
| `name` | The unique name for the emitter. | | Yes |
| `dimensions` | A list of attributes and measures, and, for each, the specification for how data will be generated. | | Yes |

When an event is emitted, it contains:

* An [event timestamp](#event-timestamps).
* [Attributes and measures](#attributes-and-measures).

### Event timestamps

A dimension called `time`, containing the synthetic event datetime stamp, is always emitted in ISO format.

Every worker has a different start time depending on when the worker is created by the data generator.

The very first worker starts either at the current date time, or by using the `-s` argument at the [command line](./command-line.md), at a simulated clock start time.

The next output event for that worker is emitted based on the `delay` between `states`. For more information, see [`states`](./genspec-states.md).

The data generator spawns additional workers up to a configurable maximum, e.g. using the `-m` argument at the [command line](./command-line.md). The interval between workers being spawned is controlled by the `interarrival` time, set in the [generator specification](./genspec.md).

### Attributes and measures

The `dimensions` list sets the name and type of every dimensions to be output.

The value that will be output by an emitter can either be:

* Generated by the emitter every time.
* Generated by the state using [worker variables](./type-variable.md).

Supported simple types are:

* [`timestamp`](./type-timestamp.md) generates a timestamp between a range.
* [`string`](./type-string.md) creates a synthetic string, optionally limited to a specific list of characters.
* [`int`](./type-int.md) generates whole numbers.
* [`float`](./type-float.md) generates floating point numbers.

More complex types are:

* [`ipaddress`](./type-ipaddress.md)
* [`counter`](./type-counter.md)
* [`enum`](#enum)
* [`object`](#object)
* [`list`](#list)

#### `enum`

Enum dimensions specify the set of all possible dimension values, as well as a distribution for selecting from the set.

Enums have the following format:

```
{
  "type": "enum",
  "name": "<dimension name>",
  "values": [...],
  "cardinality_distribution": <distribution descriptor object>,
  "percent_missing": <percentage value>,
  "percent_nulls": <percentage value>
}
```

Where:

- <i>name</i> is the name of the dimension
- <i>values</i> is a list of the values
- <i>cardinality_distribution</i> informs the cardinality selection of the generated values
- <i>percent_missing</i> a value in the range of 0.0 and 100.0 (inclusive) indicating the stochastic frequency for omitting this dimension from records (optional - the default value is 0.0 if omitted)
- <i>percent_nulls</i> a value in the range of 0.0 and 100.0 (inclusive) indicating the stochastic frequency for generating null values (optional - the default value is 0.0 if omitted)

#### `object`

Object dimensions create nested data. Object dimension specification entries have the following format:

```
{
  "type": "object",
  "name": "<dimension name>",
  "cardinality": <int value>,
  "cardinality_distribution": <distribution descriptor object>,
  "percent_missing": <percentage value>,
  "percent_nulls": <percentage value>,
  "dimensions": [<list of dimensions nested within the object>]
}
```

Where:
- <i>name</i> is the name of the object
- <i>cardinality</i> indicates the number of unique values for this dimension (zero for unconstrained cardinality)
- <i>cardinality_distribution</i> skews the cardinality selection of the generated objects (optional - omit for unconstrained cardinality)
- <i>percent_missing</i> a value in the range of 0.0 and 100.0 (inclusive) indicating the stochastic frequency for omitting this dimension from records (optional - the default value is 0.0 if omitted)
- <i>percent_nulls</i> a value in the range of 0.0 and 100.0 (inclusive) indicating the stochastic frequency for generating null values (optional - the default value is 0.0 if omitted)
- <i>dimensions</i> is a list of nested dimensions

#### `list`

list dimensions create lists of dimesions. List dimension specification entries have the following format:

```
{
  "type": "list",
  "name": "<dimension name>",
  "length_distribution": <distribution descriptor object>,
  "selection_distribution": <distribution descriptor object>,
  "elements": [<a list of dimension descriptions>],
  "cardinality": <int value>,
  "cardinality_distribution": <distribution descriptor object>,
  "percent_missing": <percentage value>,
  "percent_nulls": <percentage value>
}
```

Where:
- <i>name</i> is the name of the object
- <i>length_distribution</i> describes the length of the resulting list as a distribution
- <i>selection_distribution</i> informs the generator which elements to select for the list from the elements list
- <i>elements</i> is a list of possible dimensions the generator may use in the generated list
- <i>cardinality</i> indicates the number of unique values for this dimension (zero for unconstrained cardinality)
- <i>cardinality_distribution</i> skews the cardinality selection of the generated lists (optional - omit for unconstrained cardinality)
- <i>percent_missing</i> a value in the range of 0.0 and 100.0 (inclusive) indicating the stochastic frequency for omitting this dimension from records (optional - the default value is 0.0 if omitted)
- <i>percent_nulls</i> a value in the range of 0.0 and 100.0 (inclusive) indicating the stochastic frequency for generating null values (optional - the default value is 0.0 if omitted)

List configuration can seem a bit confusing.
So to clarify, the generator will generate a list that is the length of a sample from the <i>length_distribution</i>.
The types of the elements of the list are selected from the <i>elements</i> list by using an index into the elements list that is determined by sampling from the <i>selection_distribution</i>.
The other field values (e.g., <i>cardinality</i>, <i>percent_nulls</i>, etc.) operate like the other types, but in this case apply to the entire list.